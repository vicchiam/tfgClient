<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Falta</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/faltas"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="delete()" >
        <ion-icon name="trash-outline"></ion-icon>
      </ion-button>    
      <ion-button (click)="save()">
        <ion-icon name="save-outline" ></ion-icon>
      </ion-button>        
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <ion-list>
    <ion-item>
      <ion-label position="floating">Solicitante</ion-label>
      <ion-select [(ngModel)]="falta.solicitante_id" placeholder="Select One">        
        <ion-select-option *ngFor="let usuario of usuarios" [value]="usuario.id">{{ usuario.name }}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label position="floating">Centro</ion-label>
      <ion-select [(ngModel)]="falta.centro_id" placeholder="Select One">        
        <ion-select-option *ngFor="let centro of centros" [value]="centro.id">{{ centro.nombre }}</ion-select-option>
      </ion-select>
    </ion-item>
  </ion-list>
  <ion-list>
    <ion-list-header>
      <ion-label>Piezas</ion-label>
      <ion-button (click)="addProducto()">
        <ion-icon name="add-circle-outline"></ion-icon>
      </ion-button>      
    </ion-list-header>
    <ion-item-divider style="font-size: 0.75rem; padding-right: 10px;">
      <ion-label>Nombre</ion-label>      
      <ion-label slot="end">Cantidad/Valor</ion-label>
    </ion-item-divider>
    <ion-item *ngFor="let producto of productos; let i=index" (click)="editProducto(i)">
      <ion-label style="min-width: 50%;">{{ producto.nombre }}</ion-label>      
      <ion-label slot="end">{{ producto.cantidad }} / {{ producto.valor }}&euro;</ion-label>
    </ion-item>   
  </ion-list>

</ion-content>
